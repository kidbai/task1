<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>task1</title>
	<link href="todc-bootstrap/css/bootstrap.min.css" rel="stylesheet"  media="screen"/>
	<link href="todc-bootstrap/css/todc-bootstrap.min.css" rel="stylesheet"  media="screen"/>
	<link href="css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen"/>
	<link href="kindeditor-4.1.10/themes/default/default.css" rel="stylesheet" />
	<link href="css/demo.css" rel="stylesheet" />
	<link href="css/uploader.css" rel="stylesheet" />
</head>
<body>
<form class="form-horizontal" role="form">
		<h1>Task1</h1>
		<!-- text input -->
		<div class="form-group">
			<label for="exampleInput" class="col-md-2 control-label">文字输入</label>
			<div class="col-md-5" style="padding:0%;">
				<input type="text" class="form-control " id="exampleInput" placeholder="文字输入"/>
			</div>
		</div>

		<!-- choose date -->
		<div class="form-group">
			<label for="exampleDate" class="col-md-2 control-label">选择日期</label>
			<div class="col-md-5 input-group date form_datetime" data-date="2014-09-12T00:25:07Z" data-date-format="dd MM yyyy - HH:ii p" data-link-field="dtp_input1" >
				<input type="text" class="form-control" id="inputDate" size="16" value="" readonly/>
				<span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>	
			</div>
			<input type="hidden" id="dtp_input1" value="" /><br/>
		</div>

		<!-- img upload -->
		<div class="form-group">
			<div class="col-md-10 col-md-offset-2" style="padding:0%;">
				<!-- d&d zone-->
				<div id="drag-and-drop-zone" class="col-md-1" style="padding:0%;">
					<div class="btn btn-default btn-sm browser">
						<label>
							<span>上传图片</span>						
					 		<input type="file" name="files[]" multiple="multiple" style = "opacity:0;width:70px;"/>
						</label>
					</div>
				</div>
				<div class="col-md-5">
					<div id='demo-files'>
						<span class="demo-note"></span>
					</div>
				</div>
			</div>
		</div>
		


		<!-- kindeditor -->
		<div class="form-group">
			<label class = "col-md-2 control-label">富文本编辑器</label>
				<textarea name="content" id="content_1" style="width:612px;height:300px;">
				</textarea>
		</div>

		<!-- checkbox radio -->
		<div class="form-group">
				<label class="col-md-2 control-label">单选框</label>
				<div class="con-md-5">
					<div class="checkbox-inline">
					<label>
						<input type="radio" name="sex" value="boy" checked/>boy 
					</label>
				</div>
				<div class="checkbox-inline">
					<label>
						<input type="radio" name="sex" value="girl"/>girl 
					</label>
				</div>
				<div class="checkbox-inline">
					<label>
						<input type="radio" name="sex" value="other"/> other 
					</label>
				</div>
			</div>
		</div><!--checkbox -->
		<div class="form-group">
			<label class="col-md-2 control-label">复选框</label>				
			<div class="col-md-5">
				<div class="checkbox-inline">
					<label>
						<input type="checkbox" id="letter" name="letter" value="A" checked/>A
					</label>
				</div>
				<div class="checkbox-inline">
					<label>
						<input type="checkbox"  id="letter" name="letter" value="B"/>B
					</label>
				</div>
				<div class="checkbox-inline">
					<label>
						<input type="checkbox"  id="letter"  name="letter" value="C"/>C
					</label>
				</div>
			</div>
		</div>
		
		


		
		<!-- submit info -->
		<div class="form-group">
			<button class="btn btn-primary col-md-1 col-md-offset-2" type="button" id="button_1">打印表单</button>
		</div>

		<!-- modal -->
		<div class="modal fade" id="showModal" tabindex="-1" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button class="close" type="button"  data-dismiss="modal" >&times;</button>
						<div class="modal-title">
							<h4>在控制台打印的信息</h4>
						</div>
					</div>
					<div class="modal-body">
						<p id="showInfo"></p>
					</div>
				</div>
			</div>
		</div>
	<p class="hidden" id="temp"></p>
</form>

<script src="todc-bootstrap/todc-js/jquery-2.1.1.min.js" charset = "UTF-8"></script>
<script src="todc-bootstrap/todc-js/jquery-migrate-1.2.1.min.js" charset = "UTF-8"></script>
<script src="todc-bootstrap/todc-js/bootstrap.min.js"></script>
<script src="js/bootstrap-datetimepicker.min.js" charset = "UTF-8"></script>
<script src="js/locales/bootstrap-datetimepicker.fr.js" charset = "UTF-8"></script>
<script src="kindeditor-4.1.10/kindeditor-min.js" charset = "UTF-8"></script>
<script src="kindeditor-4.1.10/lang/zh_CN.js"></script>
<script src="js/demo.min.js"></script>
<script src="js/dmuploader.min.js"></script>
<script>
$(function () {
	if(null!=$(".ke-container")){
		console.log("ke-container存在");
		$(".ke-container").css({"width":"612px"});
	}
	$("#button_1").click(function(){
		$("#showModal").modal();
		var inputText = $("#inputText").val();
		var inputDate = $("#inputDate").val();
		var allRadio = $("input[name = sex]:checked").val();
    	//var img;   图片信息

    	var allCheckBox = "";
    	$("input[name = letter]:checked").each(function(){
    		allCheckBox += $(this).val() + ",";
    	});
    	var imgName = $("#temp").text();
    	console.log("文字输入是：" + inputText);
    	console.log("Date:" + inputDate);
    	console.log("编辑器:" + editor.text());
    	console.log("单选框选中的有:" + allRadio);
    	console.log("复选框选中的有:" + allCheckBox);
    	console.log("图片名称:" + imgName);
    	$("#showInfo").text("文字输入:" + inputText + "," + "日期:" + inputDate + "," +  "单选框:" + allRadio + "," + "复选框:" + allCheckBox + "," + "图片名称" + imgName);
    });
});
var editor;
KindEditor.ready(function(K) {
	editor = K.create('textarea[name="content"]', {
		allowFileManager : true,
	});
});
$(".form_datetime").datetimepicker({
	weekStart:1,
	todayBtn:1,
	autoclose:1,
	todayHighLight:1,
	startView:2,
	forceParse:0,
	showMeridian:1
});

$('#drag-and-drop-zone').dmUploader({
	url: 'upload.php',
	dataType: 'json',
	allowedTypes: 'image/*',
	/*extFilter: 'jpg;png;gif',*/
	onInit: function(){
		$.danidemo.addLog('#demo-debug', 'default', 'Plugin initialized correctly');
	},
	onBeforeUpload: function(id){
		$.danidemo.addLog('#demo-debug', 'default', 'Starting the upload of ' + id);

		$.danidemo.updateFileStatus(id, 'default', 'Uploading...');
	},
	onNewFile: function(id, file){
		$.danidemo.addFile('#demo-files', id, file);
		$("#temp").text(file.name);
	},
	onComplete: function(){
		$.danidemo.addLog('#demo-debug', 'default', 'All pending tranfers completed');
	},
	onUploadProgress: function(id, percent){
		var percentStr = percent + '%';

		$.danidemo.updateFileProgress(id, percentStr);
	},
	onUploadSuccess: function(id, data){
		$.danidemo.addLog('#demo-debug', 'success', 'Upload of file ' + id + ' completed');

		$.danidemo.addLog('#demo-debug', 'info', 'Server Response for file ' + id + ': ' + JSON.stringify(data));

		$.danidemo.updateFileStatus(id, 'success', 'Upload Complete');

		$.danidemo.updateFileProgress(id, '100%');
	},
	onUploadError: function(id, message){
		$.danidemo.updateFileStatus(id, 'error', message);

		$.danidemo.addLog('#demo-debug', 'error', 'Failed to Upload file ' + id + ': ' + message);
	},
	onFileTypeError: function(file){
		$.danidemo.addLog('#demo-debug', 'error', 'File \'' + file.name + '\' cannot be added: must be an image');
	},
	onFileSizeError: function(file){
		$.danidemo.addLog('#demo-debug', 'error', 'File \'' + file.name + '\' cannot be added: size excess limit');
	},
        /*onFileExtError: function(file){
          $.danidemo.addLog('#demo-debug', 'error', 'File \'' + file.name + '\' has a Not Allowed Extension');
      },*/
      onFallbackMode: function(message){
      	$.danidemo.addLog('#demo-debug', 'info', 'Browser not supported(do something else here!): ' + message);
      }

  });


</script>
</body>
</html>